---
title: "DSCI 522 Lecture 5"
subtitle: "Non-interactive scripts"
author: "Sky Sheng"
execute:
  eval: false
format:
  revealjs:
    theme: default
    transition: slide
    slide-number: true
    chalkboard: true
    logo: ../images/mds-hex-sticker.png
---

## iClicker: How are you getting along with Docker?

::: {.columns}
::: {.column width="50%"}
<div style="text-align: center; font-weight: bold; font-size: 24px; margin-bottom: 0px;">(A)</div>
<div style="text-align: center;">
<img src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExeXE4ODVjNW04djRvOW54cHo5enRjbjk1ZDB1cjhzZTE4ejJiZTdmciZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/6onMzNPjtFeCI/giphy.gif" style="width: 60%; max-width: 400px;"/>
</div>
:::

::: {.column width="50%"}
<div style="text-align: center; font-weight: bold; font-size: 24px; margin-bottom: 0px;">(B)</div>
<div style="text-align: center;">
<img src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExMTNlamUxbnBuMTN1M3BkMmo1ZWg4d3FnOWlhZjB3bHZqaGFlNmNnOSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/hEIuLmpW9DmGA/giphy.gif" style="width: 65%; max-width: 400px;"/>
</div>
:::
:::

::: {.columns}
::: {.column width="50%"}
<div style="text-align: center; font-weight: bold; font-size: 24px; margin-bottom: 0px;">(C)</div>
<div style="text-align: center;">
<img src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExZjhyc29ya2FqZmVzY2Fzc2o5Y3htZTh4bjZxOHBjazJvMXl0NGo2MCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/2tRNWDWKYQ5Y1Liot4/giphy.gif" style="width: 60%; max-width: 400px;"/>
</div>
:::

::: {.column width="50%"}
<div style="text-align: center; font-weight: bold; font-size: 24px; margin-bottom: 0px;">(D)</div>
<div style="text-align: center;">
<img src=" https://media.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3cmc3aXpnMmdoZnVxdWhrbTBqZTMyMmZpbDdwMzczd3Y1cTdhZHVneiZlcD12MV9naWZzX3JlbGF0ZWQmY3Q9Zw/dIBUemhk5jPd9rfbHf/giphy.gif" style="width: 60%; max-width: 400px;"/>
</div>
:::
:::


<p style="position: fixed; bottom: 0px; left: 0px; font-size: 20px; color: gray; z-index: 1000;">[Source](https://giphy.com)</p>

# ğŸ§ Some questions from last week... 

## Q: "I did everything as instructed, why do I still get bugs?" ğŸ¥² 

* Bad news: ğŸ›  are inevitable
    * Debugging is one of the most important skills to have as a data scientist
* Good news: Enemies of  ğŸ›:
    * Documentation, attention to details, perseverance, clean code, testing...

## Q: "conda is not locking my pip packages!" ğŸ˜±


::: {.smaller style="font-size: 0.8em;"}

* Solution: `pip install` packages inside of your Dockerfile
    * (optional but recommended) Still add version numbers for your pip packages in `environment.yml` file for documentation purposes

```bash
# build on top of template of minimal notebook
FROM quay.io/jupyter/minimal-notebook:afe30f0c9ad8

# copy all conda environment dependencies
COPY conda-linux-64.lock /tmp/conda-linux-64.lock

# conda install all the other packages
RUN mamba update --quiet --file /tmp/conda-linux-64.lock \
    && mamba clean --all -y -f \
    && fix-permissions "${CONDA_DIR}" \
    && fix-permissions "/home/${NB_USER}"

# install openai using pip
RUN pip install openai==1.57.0
```
:::

## Q: "The data I'm currently using do not have any missing data, why do I still need to do data validation?"

* What about your future data? 
* We set up the data validation pipeline so that we can easily validate new data, and get warnings if there are missing values in the future.

## iClicker: Why do we use `docker-compose` file?

-(A) To create and customize our own docker

-(B) To easily launch and stop our docker container in one command

-(C) To document the packages we used so that we can easily share with others

-(D) To prepare for publishing our docker image on Docker Hub

-(E) To make our life harder ğŸ¤·â€â™€ï¸

## <span style="font-size: 0.9em;">Recap: Why do we need all of these? ğŸ¤¯</span>

![](../images/conda5.png){width="2600px" style="margin-bottom: 0px;"}

<p style="position: fixed; bottom: 0px; left: 0px; font-size: 18px; color: gray; z-index: 1000;">Image generated by OpenAI GPT-5 and Canva</p> 

## <span style="font-size: 0.7em;">"I want more functionality in the docker container!"</span>

![](../images/docker1.png){width="3600px" style="margin-bottom: 0px;"}

<p style="position: fixed; bottom: 0px; left: 0px; font-size: 18px; color: gray; z-index: 1000;">Image generated by OpenAI GPT-5 and Canva</p> 

## <span style="font-size: 0.7em;">"`docker run` command is too LONG!"</span>

![](../images/docker2.png){width="3600px" style="margin-bottom: 0px;"}

<p style="position: fixed; bottom: 0px; left: 0px; font-size: 18px; color: gray; z-index: 1000;">Image generated by OpenAI GPT-5 and Canva</p> 

## <span style="font-size: 0.7em;">"I am tired of typing the same sequence of commands over and over again!"</span>

![](../images/docker3.png){width="3600px" style="margin-bottom: 0px;"}

<p style="position: fixed; bottom: 0px; left: 0px; font-size: 18px; color: gray; z-index: 1000;">Image generated by OpenAI GPT-5 and Canva</p> 

## <span style="font-size: 0.7em;">"I want others to easily use my docker container!"</span>

![](../images/docker4.png){width="3600px" style="margin-bottom: 0px;"}

<p style="position: fixed; bottom: 0px; left: 0px; font-size: 18px; color: gray; z-index: 1000;">Image generated by OpenAI GPT-5 and Canva</p> 

## Real-world example: Nature

::: {.smaller style="font-size: 0.8em;"}

* If you ever submit a paper to *Nature* journals, you will be asked to upload your code & data to [Code Ocean](https://codeocean.com/resources/nature-partnership)

:::

![](../images/nature.png){width="4500px" style="margin-bottom: 0px; display: block; margin-left: auto; margin-right: auto;"}

## <span style="font-size: 0.7em;">Something to look forward to at the end of DSCI 522... </span>

::: {.smaller style="font-size: 0.8em;"}

* ğŸ¤– AI agents and fully automated data science workflows using Model Context Protocols (MCPs)
* ğŸ³ Most MCP servers are built using Docker containers

:::
![](../images/docker_mcp.png){width="5000px" style="margin-bottom: 0px; display: block; margin-left: auto; margin-right: auto;"}

# ğŸŠ That's all for Docker for now 

* Docker Cheatsheet is available [here](../cheatsheets/cheatsheet_docker.html)

# Today's topic: Non-interactive scripts ğŸ“œ
